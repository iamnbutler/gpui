{"v":1,"op":"update_stream","id":"mle7hyvx-oqvb","ts":"2026-02-09T01:09:44.467025Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"description":"Migrate GPUI's geometry system to use glam/glamour. Phase 1 (done): TransformationMatrix -> glam::Affine2. Phase 2 (exploring): deep migration of Point/Size/Bounds to glamour with unit-safe wrappers, replacing custom geometry with battle-tested SIMD-backed types."}}
{"v":1,"op":"complete","id":"mle81yt3-0af5","ts":"2026-02-09T01:09:45.471769Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"resolution":"obsolete"}}
{"v":1,"op":"create","id":"mleh5vxw-kqwa","ts":"2026-02-09T01:09:53.780701Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"description":"Explored glamour crate (zero-cost glam wrappers with Unit trait). Key findings: (1) glamour Point2/Size2/Rect map directly to GPUI Point/Size/Bounds, (2) Unit trait supports f32 AND i32 scalars (covers DevicePixels), (3) no PhantomData - clean construction, (4) bytemuck zero-cost casts to raw glam, (5) Bevy uses raw glam with NO unit safety - glamour is the answer to typed coordinates. Blocker: Size<Length>/Size<AvailableSpace> are non-scalar generics that can't use glamour - need separate layout type.","priority":"p1","stream":"mle7hyvx-oqvb","title":"Research: glamour deep integration design"}}
{"v":1,"op":"complete","id":"mleh5vxw-kqwa","ts":"2026-02-09T01:09:53.809850Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"resolution":"done"}}
{"v":1,"op":"create","id":"mleh5zvd-mewq","ts":"2026-02-09T01:09:58.873078Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"description":"Design what GPUI's geometry module looks like if we go all-in on glamour, assuming no backwards compatibility constraints. Map every type, trait, and pattern to glamour equivalents or identify what stays custom.","priority":"p0","stream":"mle7hyvx-oqvb","title":"Design deep glamour integration for GPUI"}}
{"v":1,"op":"assign","id":"mleh5zvd-mewq","ts":"2026-02-09T01:10:02.634541Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"to":"@iamnbutler"}}
{"v":1,"op":"complete","id":"mleh5zvd-mewq","ts":"2026-02-09T01:12:40.107189Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"resolution":"done"}}
{"v":1,"op":"create","id":"mlehdm8t-buqy","ts":"2026-02-09T01:15:54.461144Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"description":"Add glamour to Cargo.toml with serde feature. Define Px, DevicePx, ScaledPx, Rem unit structs implementing glamour::Unit. Add type aliases (PixelPoint, PixelSize, PixelRect, etc). This is the foundation everything else builds on.","priority":"p0","stream":"mle7hyvx-oqvb","title":"Add glamour dependency and define GPUI unit types"}}
{"v":1,"op":"create","id":"mlehdm9h-nfb3","ts":"2026-02-09T01:15:54.485081Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"description":"Create LayoutPair<T> { width: T, height: T } to replace Size<T> where T is a non-scalar type (Length, DefiniteLength, AbsoluteLength, AvailableSpace, Option<Pixels>). ~25 uses in 6 files (taffy.rs, style.rs, element.rs, window.rs, app/test_context.rs). Must happen before Size<T> can be removed.","priority":"p0","stream":"mle7hyvx-oqvb","title":"Introduce LayoutPair<T> for non-scalar Size uses"}}
{"v":1,"op":"create","id":"mlehdma6-0trt","ts":"2026-02-09T01:15:54.510232Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"description":"Replace all pixel-typed Point<T> uses with glamour Point2<U>. ~423 occurrences across 50 files. Remove Point<T> struct and all its impls from geometry.rs. Keep scalar newtypes (Pixels, ScaledPixels, DevicePixels) for standalone use.","priority":"p1","stream":"mle7hyvx-oqvb","title":"Migrate Point<Pixels/ScaledPixels/DevicePixels> to Point2<Px/ScaledPx/DevicePx>"}}
{"v":1,"op":"create","id":"mlehdmau-r3o3","ts":"2026-02-09T01:15:54.534517Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"description":"Replace all pixel-typed Size<T> uses with glamour Size2<U>. Remove Size<T> impls for pixel types from geometry.rs. Keep Size<f32> uses or convert to Size2<f32>.","priority":"p1","stream":"mle7hyvx-oqvb","title":"Migrate Size<Pixels/ScaledPixels/DevicePixels> to Size2<Px/ScaledPx/DevicePx>"}}
{"v":1,"op":"create","id":"mlehdmbi-c6ai","ts":"2026-02-09T01:15:54.558585Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"description":"Replace all pixel-typed Bounds<T> uses with glamour Rect<U>. This is the biggest win - Rect gives us contains(), intersection(), union(), inflate(), round_in/round_out(), lerp() for free. Remove Bounds<T> impls for pixel types.","priority":"p1","stream":"mle7hyvx-oqvb","title":"Migrate Bounds<Pixels/ScaledPixels/DevicePixels> to Rect<Px/ScaledPx/DevicePx>"}}
{"v":1,"op":"create","id":"mlehdmc6-2ls5","ts":"2026-02-09T01:15:54.582043Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"description":"Replace TransformationMatrix with glamour Transform2<ScaledPx, ScaledPx>. Replace Radians with glamour Angle<f32>. Update scene.rs, window.rs, svg.rs, and shader interop.","priority":"p2","stream":"mle7hyvx-oqvb","title":"Migrate TransformationMatrix to Transform2 and Radians to Angle"}}
{"v":1,"op":"create","id":"mlehdmcs-c9yh","ts":"2026-02-09T01:15:54.604824Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"description":"Remove dead code from geometry.rs (~2400 lines). Update re-exports in lib.rs. Remove Half/Negate traits replaced by glamour ops. Keep Edges, Corners, Along, IsZero, layout types, scalar newtypes. Final cleanup pass.","priority":"p2","stream":"mle7hyvx-oqvb","title":"Clean up geometry.rs and update public API"}}
{"v":1,"op":"assign","id":"mlehdm8t-buqy","ts":"2026-02-09T01:16:03.160924Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"to":"@iamnbutler"}}
{"v":1,"op":"assign","id":"mlehdm9h-nfb3","ts":"2026-02-09T01:16:03.186680Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"to":"@iamnbutler"}}
{"v":1,"op":"complete","id":"mlehdm8t-buqy","ts":"2026-02-09T01:43:23.405812Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"resolution":"done"}}
{"v":1,"op":"complete","id":"mlehdm9h-nfb3","ts":"2026-02-09T01:43:23.433273Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"resolution":"done"}}
{"v":1,"op":"assign","id":"mlehdma6-0trt","ts":"2026-02-09T01:43:30.521700Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"to":"@iamnbutler"}}
{"v":1,"op":"update","id":"mlehdma6-0trt","ts":"2026-02-09T01:43:30.546499Z","by":"@iamnbutler","branch":"iamnbutler/glam-migration","d":{"description":"Migrate Point<Pixels/ScaledPixels/DevicePixels> to Point2<Px/ScaledPx/DevicePx>. DONE: path_builder.rs (public API), interactive.rs (all mouse event position fields), platform/mac/events.rs (event construction). REMAINING: ~30 files still use Point<Pixels> internally, plus Linux/Windows platform code."}}
